# 角色战斗模拟器

这是一个基于 Flask 的 Web 应用程序，允许用户创建、编辑和管理角色，并模拟他们之间的战斗。

## 功能

*   **角色管理**：
    *   创建新角色。
    *   编辑现有角色的属性，包括名称、生命值、攻击力（按元素分类）、技能和属性。
    *   为角色上传图片和音频。
    *   删除角色。
*   **战斗模拟**：
    *   支持 1v1 战斗模式。
    *   支持 2v2 团队战斗模式。
    *   支持大乱斗模式（所有角色参战）。
    *   详细的战斗步骤记录，展示每回合的行动和伤害计算。
    *   战斗结束后显示最终结果和角色统计数据（造成伤害、承受伤害）。
*   **胜率统计**：
    *   记录每个角色的总战斗次数和胜利次数，并计算胜率。
*   **元素系统**：
    *   角色攻击和技能伤害可以按“金、木、水、火、土、风、雷、毒、法、圣、精神”等元素进行分类。
    *   角色属性可以提供对不同元素的抗性。

## 技术栈

*   **后端**：Python 3, Flask
*   **前端**：HTML, CSS, JavaScript
*   **数据存储**：JSON 文件

## 文件结构

```
.
├── app.py                  # Flask 主应用程序，处理路由、角色管理和战斗请求
├── battle.py               # 战斗模拟逻辑，包括 1v1, 2v2 和大乱斗模式
├── character_manager.py    # 角色数据加载和保存（可能已集成到 app.py 或 battle.py 中）
├── data/
│   ├── characters.json     # 存储角色数据
│   └── win_rates.json      # 存储角色胜率数据
├── static/
│   ├── assets/             # 存储角色图片和音频文件
│   │   ├── *.jpg
│   │   ├── *.gif
│   │   └── ...
│   └── css/
│       └── style.css       # 样式文件
└── templates/
    ├── index.html          # 角色列表和主页
    ├── edit.html           # 角色编辑页面
    ├── battle_result.html  # 战斗结果展示页面
    └── douququ.html        # 斗蛐蛐模式页面（可能是一个特定的战斗入口）
```

## 如何运行

1.  **克隆仓库** (如果适用):
    ```bash
    git clone <仓库地址>
    cd <项目目录>
    ```
2.  **安装 Python 依赖**：
    确保你已经安装了 Python 3。然后安装 Flask：
    ```bash
    pip install Flask
    ```
3.  **运行应用程序**：
    ```bash
    python app.py
    ```
4.  **访问应用**：
    在浏览器中打开 `http://127.0.0.1:5000/`。

## 使用说明

*   在主页上，你可以看到所有已创建的角色。
*   点击“创建新角色”按钮来添加一个新角色。
*   点击角色的“编辑”按钮来修改其属性、技能和上传媒体文件。
*   在主页上选择角色进行 1v1 或 2v2 战斗，或进入大乱斗模式。
*   战斗结果页面将显示详细的战斗过程和最终胜负。